# 09. Dando tempo para o modelo pensar (COT)

Agora vamos explorar técnicas que dão ao modelo mais tempo para pensar. Lembrando, como falamos anteriormente, os modelos funcionam como os seres humanos: quanto mais tempo dermos a eles para pensar, mais apurada será a resposta.

Vamos explorar, então, as principais técnicas para o modelo ter mais tempo e melhorar nas tarefas que exigem raciocínio.

## Pense passo a passo

A primeira técnica é muito simples, mas tem demonstrado resultados muito efetivos. Temos um exemplo a seguir:

```python
Determine se a solução do aluno está correta ou não.

Pergunta:
Estou construindo uma instalação de energia solar e preciso de ajuda com as contas de custos as finanças.
- O terreno custa R$ 100 / metro quadrado
- Posso comprar painéis solares por R$ 250 / metro quadrado
- Negociei um contrato de manutenção que me custará R$ 100 mil por ano e  R$ 10 adicionais por metro quadrado

Qual é o custo total para o primeiro ano de operações
em função do número de pés quadrados.

Solução do aluno:
Seja x o tamanho da instalação em metros quadrados.
Custos:
1. Custo do terreno: 100x
2. Custo do painel solar: 250x
3. Custo de manutenção: 100.000 + 100x
Custo total: 100x + 250x + 100.000 + 100x = 450x + 100.000
```

O modelo responde:

```python
A solução do aluno está correta. O custo total para o primeiro ano de operações em função do número de metros quadrados é dado por 450x + 100.000.
```

Mas na realidade a resposta está incorreta, o valor final deveria ser 360x + 100.000. Vamos ver o que ocorre quando pedimos pro modelo pensar passo a passo:

```python
Determine se a solução do aluno está correta ou não.

Pergunta:
Estou construindo uma instalação de energia solar e preciso de ajuda com as contas de custos as finanças.
- O terreno custa R$ 100 / metro quadrado
- Posso comprar painéis solares por R$ 250 / metro quadrado
- Negociei um contrato de manutenção que me custará R$ 100 mil por ano e  R$ 10 adicionais por metro quadrado

Qual é o custo total para o primeiro ano de operações
em função do número de pés quadrados.

Solução do aluno:
Seja x o tamanho da instalação em metros quadrados.
Custos:
1. Custo do terreno: 100x
2. Custo do painel solar: 250x
3. Custo de manutenção: 100.000 + 100x
Custo total: 100x + 250x + 100.000 + 100x = 450x + 100.000

Pense passo a passo
```

E a solução:

```python
A solução do aluno está parcialmente correta. 

No entanto, o custo total incorreto para o primeiro ano de operações em função do número de metros quadrados. O aluno considerou corretamente os custos do terreno, dos painéis solares e da manutenção, mas não somou esses custos corretamente. 

O custo total para o primeiro ano de operações em função do número de metros quadrados seria:
Custo total = Custo do terreno + Custo dos painéis solares + Custo de manutenção
Custo total = 100x + 250x + 100.000 + 10x
Custo total = 360x + 100.000

Portanto, a expressão correta para o custo total em função do número de metros quadrados seria 360x + 100.000.
```

Olhem a incrível diferença. Agora o modelo acertou a resposta, só pro adicionarmos `Pense passo a passo` no final do prompt, lembrando a ele de dar tempo para pensar.

## Cadeia de Pensamento

Cadeia de pensamento (do inglês, chain of thought) é uma técnica similar, mas nela explicamos exatamente os passos que queremos que o modelo percorra para resolver corretamente a instrução.

```python
Determine se a solução do aluno está correta ou não.

Pergunta:
Estou construindo uma instalação de energia solar e preciso de ajuda com as contas de custos as finanças.
- O terreno custa R$ 100 / metro quadrado
- Posso comprar painéis solares por R$ 250 / metro quadrado
- Negociei um contrato de manutenção que me custará R$ 100 mil por ano e  R$ 10 adicionais por metro quadrado

Qual é o custo total para o primeiro ano de operações
em função do número de pés quadrados.

Solução do aluno:
Seja x o tamanho da instalação em metros quadrados.
Custos:
1. Custo do terreno: 100x
2. Custo do painel solar: 250x
3. Custo de manutenção: 100.000 + 100x
Custo total: 100x + 250x + 100.000 + 100x = 450x + 100.000

Elabore primeiro a sua própria solução para o problema. Depois, compare sua solução a solução do aluno e verifique se ela está correta.
```

E a resposta é:

```python
Minha solução:

1. Custo do terreno: R$ 100 * x
2. Custo dos painéis solares: R$ 250 * x
3. Custo de manutenção: R$ 100.000 + R$ 10 * x

Custo total para o primeiro ano de operações:
Custo total = Custo do terreno + Custo dos painéis solares + Custo de manutenção
Custo total = R$ 100x + R$ 250x + R$ 100.000 + R$ 10x
Custo total = R$ 360x + R$ 100.000

Agora, vamos comparar nossa solução com a solução do aluno:

Nossa solução: Custo total = R$ 360x + R$ 100.000
Solução do aluno: Custo total = R$ 450x + R$ 100.000

Portanto, a solução do aluno está incorreta. O custo total para o primeiro ano de operações em função do número de metros quadrados é de R$ 360x + R$ 100.000, e não de R$ 450x + 100.000
```

Neste caso, mostramos o passo a passo exato que gostaríamos que o modelo seguisse e a solução foi ainda mais apurada. Em geral, definindo a cadeia de pensamento, teremos resultados melhores. Utilizamos o método passo a passo quando não sabemos a priori os passos necessários para o modelo resolver o problema. Caso contrário, definir a cadeia é uma solução melhor.
